package logic;

import data_structure.Heap;

public class Buffer {

	private Comparable<Order>[] orderVisitedCity;
	private boolean available;


	public Buffer(int n, Heap<Order> h) {
		orderVisitedCity = h.getHeap();
		available = false;
	}

	public synchronized boolean get(int id) {

		while (available == false) {
			try {
				wait();
			} catch (InterruptedException e) {
				System.out.println(e.getMessage());
			}
		}
		available = false;
		notifyAll();
		return orderVisitedCity[id].getTaken();
	}

	public synchronized void put(int id) {
		while (available == true) {
			try {
				wait();
			} catch (InterruptedException e) {
				System.out.println(e.getMessage());
			}
		}
		orderVisitedCity[id].setTaken();
		available = true;
		notifyAll();
	}
	
	public boolean isAnyOrder(){
		for(Order x: orderVisitedCity){
			if(x.getTaken() == false)
				return true;
		}
		return false;
	}
}
